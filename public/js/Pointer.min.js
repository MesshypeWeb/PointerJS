if("undefined"==typeof jQuery)throw new Error("Pointer.js needs Jquery");var connecto;function initialize(object){connecto=object.server||void 0;var script=[],crS=document.createElement("script"),style=[],crL=document.createElement("link"),head=document.getElementsByTagName("head")[0];if(object.dependencies){console.log("mem");for(let i=0;i<object.dependencies.length;i++)"js"==object.dependencies[i].type?(crS.src=object.dependencies[i].src,1==object.dependencies[i].async&&(crS.attributes=["async","true"]),script.push(crS),crS=document.createElement("script")):"css"==object.dependencies[i].type&&(crL.href=object.dependencies[i].src,crL.rel="stylesheet",style.push(crL),crL=document.createElement("link"));for(let i=0;i<script.length;i++)head.appendChild(script[i]);for(let i=0;i<style.length;i++)head.appendChild(style[i])}}var Pointer={initialize:initialize};$(function(){console.log(connecto);var socket=io(),div=document.getElementById("pointer-frame");socket.emit("welcome",socket.id);var nxtSlide=document.getElementById("nextSlide");function getCookie(cname){for(var name=cname+"=",decodedCookie,ca=decodeURIComponent(document.cookie).split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return""}if(""!=getCookie("token"))var token=getCookie("token");else{var token=Math.random().toString(36).substr(2);document.cookie=`token=${token}`,socket.emit("SetToken",token)}window.ontouchmove=function(e,err){if(err)throw err;var X=e.targetTouches[0].clientX,Y=e.targetTouches[0].clientY;X/=window.innerWidth,Y/=window.innerHeight,X&&Y&&socket.emit("Coordinates",{X:X,Y:Y,token:token}),window.ontouchend=function(e){socket.emit("Coordinates",!1)}},socket.on("disconnect",function(){console.log("disconnected"),document.cookie="token=;"}),document.getElementById("Up").onclick=function(){socket.emit("ChangeSlide","up")},document.getElementById("left").onclick=function(){socket.emit("ChangeSlide","left")},document.getElementById("right").onclick=function(){socket.emit("ChangeSlide","right")},document.getElementById("down").onclick=function(){socket.emit("ChangeSlide","down")},socket.on("Slide",function(num){document.getElementById("currentSlide").innerHTML=num.split("/")[1]}),document.getElementById("jumpForm").onsubmit=function(e){e.preventDefault();var x=$("#jumpto").val();socket.emit("jumpto",x)},window.addEventListener("online",()=>{console.log("online")}),window.addEventListener("offline",()=>{console.log("offline")})});